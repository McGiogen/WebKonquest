<ion-header>

  <ion-navbar>
    <ion-title>Setup {{ local ? 'local' : 'online' }} game</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding [ngClass]="appOptions.graphics">
  <ion-grid fixed>
    <ion-row>

      <!-- PLAYERS -->
      <ion-col col-12>
        <div class="playersHeader">
          <span class="playersTitle">Players</span>
        </div>
      </ion-col>

      <!-- Players -->
      <ion-col col-md-6 col-12 class="playerBox"
               *ngFor='let player of players; trackBy: index; let i = index'
      >
        <ion-item>
          <ion-label floating>{{'Player ' + (i + 1)}}</ion-label>
          <ion-input type="text" [(ngModel)]="player.name" name="player{{i}}Name"></ion-input>
          <button ion-button clear color="danger" icon-only item-end
                  (click)="removePlayer(i)">
            <ion-icon name="close"></ion-icon>
          </button>
        </ion-item>
        <color-selector
          class="item-md" [(model)]="this.players[i].look"
        ></color-selector>
      </ion-col>

      <!-- Add new player -->
      <ion-col col-md-6 col-12 class="addPlayerBox">
        <button ion-button icon-start full large color="dark" (click)="addNewPlayer()"
                [disabled]="players.length >= 8">
          <span [hidden]="players.length >= 8">
            <ion-icon name="person-add"></ion-icon>
            <span>Add player</span>
          </span>
          <span [hidden]="players.length < 8">
            8 Players is the maximum
          </span>
        </button>
      </ion-col>

      <!-- NEUTRAL -->
      <ion-col col-12>
        <div class="neutralPlayer">
          <div class="neutralName">{{neutral.name}}</div>
          <color-selector [(model)]="neutral.look"></color-selector>
          <ion-item class="neutralPlanets" (click)="focusInput(input)">
            <ion-label>How many planets?</ion-label>
            <ion-input #input type="number" min="1" step="1" [placeholder]="'Default (' + this.gameConfig.neutralPlanets + ')'" [(ngModel)]="neutral.planets"></ion-input>
          </ion-item>
        </div>
      </ion-col>

      <ion-col col-12>
        <button ion-button (click)="startLocalGame($event)" [disabled]="players.length < 2 || players.length > 8">Play</button>
      </ion-col>

    </ion-row>
  </ion-grid>
</ion-content>
