@import '../../theme/variables.scss';

// Faccio in modo che il div sia sempre quadrato
// Sto attento alla compatibilità con almeno Chrome e Firefox
// Reference: https://stackoverflow.com/a/19068538/3687018
@mixin square-size($size) {
  position: relative;
  width: $size;

  &:after {
    content: " ";
    display: block;
    padding-bottom: 100%;
  }
}

$map-shadow: 0 0 3px rgba(204, 204, 204, 0.7);

game-map {
  .map-container {
    /** Creazione del contenitore della mappa in modo che sia responsive
     Grazie a width: 100% mi assicuro che la mappa non sia mai più larga delle dimensioni del browser.
     Ma ciò non basta, voglio anche che la mappa sia sempre tutta visibile all'interno dello schermo.
     Per questo imposto che la larghezza e l'altezza della mappa non possano mai superare l'altezza del browser.
     Solo in questo modo la mappa sarà sempre tutta visibile.
     Uso la funzione calc per togliere dall'altezza del viewport l'header e il footer dell'applicazione
     insieme ai vari margini/padding dei contenitori.
     */
    @include square-size(100%);
    max-width: calc(100vh - (56px + (26px * 2)));
    max-height: calc(100vh - (56px + (26px * 2)));

    .map-grid {
      position: absolute;
      width: 100%;
      height: 100%;
      box-shadow: $map-shadow;

      &-row {
        display: flex;
        flex-flow: row nowrap;
      }

      // Faccio in modo che il div sia sempre quadrato
      // Reference: https://stackoverflow.com/a/19068538/3687018
      // Il contenuto deve poi essere in position: absolute
      &-cell {
        @include square-size(10%);
        box-shadow: inset $map-shadow;

        &.active {
          background-color: yellow;
        }

        &:hover {
          background-color: white;
        }

        &-content {
          position: absolute;
          width: 100%;
          height: 100%;

          @for $i from 1 through 10 {
            &.planet-look-#{$i} {
              background-image: url($imgs-path + 'planets/planet1' + $i + '.png');
              background-size: cover;
            }
          }
        }
      }
    }
  }
}
